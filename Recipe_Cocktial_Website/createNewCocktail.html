<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Create new Cocktail</title>
        <link href="style.css" type="text/css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    </head>
    <body>


        <div class="container-fluid">
            <div class="row justify-content-center">
                <div class="col-2">Navigation Bar</div>
            </div>
            <div class="row my-custom-row">
                <div>
                    <div class="cocktailname">Name of the Cocktail: </div>
                        <form class="cocktailplaceholder" action="createNewCocktail.html" mehtod="POST">
                            <input type="text" name="cocktailname" placeholder="Zombie">     
                        </form>

                
                </div>
                <div class="fixed-center ">
                    <div class="category col-sm-5"><p class=" text-left">Choose a Category</p></div>
                        <div  class="row justify-content-left col-5">
                            <div>
                                <input class="category col-lg-2" id="category1" type="checkbox" name="category1">
                                <label for="category1">Category1</label>
                                <input class="category col-lg-2" id="category2" type="checkbox" name="category2">
                                <label for="category2">Category2</label>
                            </div>
                        </div>
                        <div class="row justify-content-left col-5">
                            <div>
                                <input class="category col-lg-2" id="category3" type="checkbox" name="category3">
                                <label for="category3">Category3</label>
                                <input class="category col-lg-2" id="category4" type="checkbox" name="category4">
                                <label for="category4">Category4</label>
                            </div>
                        </div>
                        <div class="row justify-content-left col-5">
                            <div>
                                <input class="category col-lg-2" id="category5" type="checkbox" name="category5">
                                <label for="category5">Category5</label>
                                <input class="category col-lg-2" id="category6" type="checkbox" name="category6">
                                <label for="category6">Category6</label>
                            </div>
                        </div>
                    </div>
                <div>
                    <div class="uploadfile">
                        <form action="upload.php" method="post" enctype="multipart/form-data">
                            <p class="text-left">Upload an image of your new Cocktail!</p>
                            <input type="file" name="fileToUpload" id="fileToUpload" placeholder="Load in your photo">

                            <input type="submit" value="Upload Image" name="submit">   <br><br>
                        </form>
                    </div>
                    <table class="col-lg-offset-4"id="ingredientstable" >
                            <tr>
                                <th cope="col">Amount</th>
                                <th cope="col">Unit</th>
                                <th cope="col">Ingredient</th>
                            </tr>
                            <tr>
                                <th scope="row"><input class="amount" type="text" name="amount" placeholder="2"><br></th>
                                <th scope="row">
                                <select name="unit" id="unit">
                                    <option value="cl">cl</option>
                                    <option value="oz">oz</option>
                                    <option value="l">l</option>
                                    <option value="half a">half a</option>
                                    <option value="quater of">quater of</option>
                                    <option value="juice of">Juice of</option>
                                </select>
                                </th>
                                <th scope="row"><input class="ingredient" type="text" name="ingredient" placeholder="Ingredient1"><br></th>
                            </tr>
                            <tr>
                                <th scope="row"><input class="amount" type="text" name="amount" placeholder="2"><br></th>
                                <th scope="row">
                                    <select name="unit" id="unit">
                                        <option value="cl">cl</option>
                                        <option value="oz">oz</option>
                                        <option value="l">l</option>
                                        <option value="half a">half a</option>
                                        <option value="quater of">quater of</option>
                                        <option value="juice of">Juice of</option>
                                    </select>
                                    </th>
                            <th scope="row"><input class="ingredient" type="text" name="ingredient" placeholder="Ingredient2"><br><i</th>
                            </tr>
                            <tr>
                                <th scope="row"><input class="amount" type="text" name="amount" placeholder="2"><br></th>
                                <th scope="row">
                                    <select name="unit" id="unit">
                                        <option value="cl">cl</option>
                                        <option value="oz">oz</option>
                                        <option value="l">l</option>
                                        <option value="half a">half a</option>
                                        <option value="quater of">quater of</option>
                                        <option value="juice of">Juice of</option>
                                    </select>
                                    </th>
                            <th scope="row"><input class="ingredient" type="text" name="ingredient" placeholder="Ingredient3"><br><i</th>
                            </tr>
                    </table>

                </div>        
                <div id="buttonrow">
                    <button id="saveCocktail" onclick="SaveCocktail()">Save Cocktail</button> 
                    <button class="ingredient" id="addNewCocktail">Click to add another Cocktail</button>
                </div>

            </div>
        </div>  
        <script>

            function SaveCocktail()
            {
                alert("Your Cocktail has been saved!");
            }

            function deleterow() 
            {
                var table = document.getElementById("ingredientstable");
                var rowCount = table.rows.length;
                if(rowCount > 4)
                {
                    table.deleteRow(rowCount - 1);
                }
                if(rowCount == 5)
                    deleteButton();
            }  
            function deleteButton()
            {
                var button = document.getElementById("removeIngredient");
                button.remove(); 
            }

            function CreateRemoveButton() 
            {
                var table = document.getElementById("ingredientstable");
                var rowCount = table.rows.length;
                var el = document.getElementById("removeIngredient");
                if(!el && rowCount >= 4)
                {
                    var buttondiv = document.getElementById("buttonrow");
                    var button = document.createElement("BUTTON");
                    button.innerHTML="Remove Ingredient";
                    button.setAttribute("id", "removeIngredient");
                    button.setAttribute("onclick", "deleterow()");
                    button.setAttribute("class", "buttonrow");
                    buttondiv.appendChild(button);
                    rowCount++;
                }
            }

            document.getElementById("addNewCocktail").onclick = function () 
            {
                var ingredientstable = document.getElementById("ingredientstable");
                var rowCount = ingredientstable.rows.length;
                var MaxAmountOfIngredients = 15;

                if(rowCount <= MaxAmountOfIngredients)
                { 
                    CreateRemoveButton();
                    var select_node = document.createElement("select");
                    select_node.setAttribute("name", "unit");
                    select_node.setAttribute("id", "unit");
                    var option_node1 = document.createElement("option");
                    option_node1.setAttribute("value", "cl");
                    var option_node1_text = document.createTextNode("cl");
                    option_node1.appendChild(option_node1_text);

                    var option_node2 = document.createElement("option");
                    option_node2.setAttribute("value", "oz");
                    var option_node2_text = document.createTextNode("oz");
                    option_node2.appendChild(option_node2_text);

                    var option_node3 = document.createElement("option");
                    option_node3.setAttribute("value", "l");
                    var option_node3_text = document.createTextNode("l");
                    option_node3.appendChild(option_node3_text);

                    var option_node4 = document.createElement("option");
                    option_node4.setAttribute("value", "half a");
                    var option_node4_text = document.createTextNode("half a");
                    option_node4.appendChild(option_node4_text);

                    var option_node5 = document.createElement("option");
                    option_node5.setAttribute("value", "quater of");
                    var option_node5_text = document.createTextNode("quater of");
                    option_node5.appendChild(option_node5_text);

                    var option_node6 = document.createElement("option");
                    option_node6.setAttribute("value", "half a");
                    var option_node6_text = document.createTextNode("half a");
                    option_node6.appendChild(option_node6_text);

                    select_node.appendChild(option_node1);
                    select_node.appendChild(option_node2);
                    select_node.appendChild(option_node3);
                    select_node.appendChild(option_node4);
                    select_node.appendChild(option_node5);
                    select_node.appendChild(option_node6);

                    var amount_input = document.createElement("input");
                    amount_input.setAttribute("class", "amount");
                    amount_input.setAttribute("type", "text");
                    amount_input.setAttribute("name", "amount");
                    amount_input.setAttribute("placeholder", "2");

                    var ingredient_input = document.createElement("input");
                    ingredient_input.setAttribute("class", "ingredient");
                    ingredient_input.setAttribute("type", "text");
                    ingredient_input.setAttribute("name", "ingredient");
                    ingredient_input.setAttribute("placeholder", "Ingredient" + rowCount);

                    var td_node = document.createElement("th");
                    td_node.appendChild(amount_input);

                    var td_node1 = document.createElement("th");
                    td_node1.appendChild(select_node);

                    var td_node2 = document.createElement("th");
                    td_node2.appendChild(ingredient_input);

                    var tr_node = document.createElement("tr");
                    tr_node.appendChild(td_node);
                    tr_node.appendChild(td_node1);
                    tr_node.appendChild(td_node2);

                    var table_node = document.getElementsByTagName("table")[0];
                    table_node.appendChild(tr_node);
                }
            }
        </script>
    </body>
</html>